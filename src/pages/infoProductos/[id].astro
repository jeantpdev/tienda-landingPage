---
import PaginaProducto from '@/components/PaginaProducto';
import Layout from '../../layouts/Layout.astro';
import productos from '@/data/productos.json';

export async function getStaticPaths() {
    return productos.map((producto) => ({
        params: {
            id: producto.id_producto,
        },
        props: {
            producto: producto,
        },
    }));
}

const {
    imagen_principal,
    imagenes_productos,
    categoria,
    nombre_producto,
    descripcion,
    precio,
    descuento,
    dimensiones,
    colores,
    material,
    id_producto,
} = Astro.props.producto;
---

<Layout title="Detalles">
    <PaginaProducto
        imagen_principal={imagen_principal} ,
        imagenes_productos={imagenes_productos},
        categoria={categoria}
        nombre_producto={nombre_producto},
        descripcion={descripcion},
        precio={precio},
        descuento={descuento},
        dimensiones={dimensiones},
        colores={colores},
        material={material},
        id_producto={id_producto}
        client:load
    />
</Layout>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" data-astro-rerun></script>